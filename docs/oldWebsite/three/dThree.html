<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Personal Website">
    <meta name="author" content="Casey Haber">

    <title>Draw Something</title>

    <!-- Bootstrap Core CSS -->
    <!-- <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"> -->
    <!-- <link rel="stylesheet" href="css/animations.css" type="text/css"> -->
    <!-- Custom Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100' rel='stylesheet' type='text/css'>
    <!-- <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css" type="text/css"> -->

    <link rel="shortcut icon" href="/img/logosrc.ico" type="image/x-icon" />
    <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">


<!-- Art Explosion Stylesheet -->
<!-- <link rel="stylesheet" href="art/redPink.css" type="text/css"> -->



    <!-- Plugin CSS -->
<!-- <link rel="stylesheet" href="css/main.css" type="text/css"> -->
<!-- <link rel="stylesheet" href="css/materialize-colorpicker.min.css" type="text/css"> -->


    <!-- Custom CSS -->
    <!-- <link rel="stylesheet" href="css/creative.css" type="text/css"> -->
    <script src="../js/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <!-- <script src="js/materialize-colorpicker.min.js"></script> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.min.js">

    </script>





    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top">
    <svg width="960" height="960"></svg>



    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-3">
                <h1 class="text"> The Aesthetic
                    <br>Free-Fall
                </h1>
                     <hr>
                     <h2>Casey Haber</h2>
                     <br>
                     <br>

                <!-- <section> </section> -->

            </div>
        </div>
    </div>






    <!-- <section id="contact">
        <div class="container">
    </section>
    <section></section> -->
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-8 text-center">
            <!-- <div id="cp2" class="inl-bl"></div> -->
            <div>
                <!-- <h3> Casey Haber </h3> -->

            <i class="fa fa-github fa-3x wow bounceIn"></i>
            <p><a class="git" href="http://www.github.com/caHaber" target="_blank">caHaber</a></p>


            <i class="fa fa-envelope-o fa-3x wow bounceIn" data-wow-delay=".1s"></i>
            <p><a href="mailto:haber.casey@gmail.com">haber.casey@gmail.com</a></p>

            <!-- Start of SimpleHitCounter Code -->
            <!-- <div align="center"><a href="http://www.simplehitcounter.com" target="_blank"><img src="http://simplehitcounter.com/hit.php?uid=2122935&f=16777215&b=0" border="0" height="18" width="83" alt="web counter"></a><br><h6>Page Views</h6</div> -->
            <!-- End of SimpleHitCounter Code -->

            </div>
        </div>
    </div>
</div>
<section></section>




    <!-- jQuery -->


    <!-- Bootstrap Core JavaScript -->
    <!-- <script src="js/bootstrap.min.js"></script> -->

    <!-- Plugin JavaScript -->
    <!-- <script src="js/jquery.easing.min.js"></script> -->
    <!-- <script src="js/jquery.fittext.js"></script> -->
    <!-- <script src="js/wow.min.js"></script> -->


    <script>



    var nodes = [],
        links = [],
        width = 1500,
        height = 1500;

        var path = d3.geo.path(),
            force = d3.layout.force().size([width, height]);
        //     var svg = d3.select("body").append("svg")
        // .attr("width", width)
        // .attr("height", height);

    var image = "../img/ch.svg"
    var flag = true;

    var camera, renderer, controls, scene = new THREE.Scene();
    var width = window.innerWidth, height = window.innerHeight;

    camera = new THREE.PerspectiveCamera(40, width/height , 1, 10000);
    camera.position.z = 3000;
    camera.setLens(30);

    d3.xml(image, "image/svg+xml", function(error, xml) {
      if (error) throw error;
      var svgNode = xml
                    .getElementsByTagName("svg")[0];

        // console.log(svgNode);


      draw(svgNode);






    function draw(svgNode) {



        var paths = d3.select(svgNode).selectAll("path");

        var arrPaths = [];


        paths[0].forEach(function(s){
            var me = d3.select(s);
            var feature = {};

            arrPaths.push(me.node());
        })



        var svg = d3.select("svg").attr("width","3500").attr("height","2000");



    svg.append("text")
        .text("Click")
        .attr("x",200)
        .attr("y",20);



            var donePaths =  svg.selectAll("path")
                          .data(arrPaths);
                        //  .enter();
                        //  .append("path")
                        //   .attr("d",function(d){
                        //       var me = d3.select(d);
                        //     //   console.log(d,"rawD");
                         //
                        //       return me.attr("d")
                        //   })
                        //   .attr("fill",function(d){
                        //       return d3.select(d).attr("fill");
                        //   })
                        //   .attr("stroke",function(d){
                        //         return d3.select(d).attr("stroke");
                        //     });

                        //GIVES Random st class for color brewer pallets

                        //   .attr("class",function(d){
                        //     //   return d.classList[0];
                        //     var run = ran((Math.random()* (8 - 0) + 0));
                        //     // console.log("st"+run)
                        //     return "st" + run;
                          //
                        //   });

                          features = [];

    var animations = ["slideUp","slideLeft","slideDown","bounce","pulse","bigEntrance","hatch","tossing"];


donePaths.each(objectify);
    // svg.on("click",click);



    //Attaches animations
    // donePaths.on("mouseover",function(d){
    //     var me = d3.select(this);
    //     // me.style("fill","white");
    //     // me.style("opacity",".5");
    //     var run = ran((Math.random()* (7 - 0) + 0));
    //     me.attr("class", function(s) {
    //         // var me = d3.select(d);
    //         // console.log(d3.select(d));
    //         return animations[run];
    //     });
    //     // console.log(animations[run])
    // })

    function ran(x){
        if (x >= 3 && x <4){
            return 3
        }
        if (x >= 4 && x <5){
            return 4
        }
        if (x >= 2 && x <3){
            return 2
        }
        if (x >= 1 && x <2){
            return 1
        }
        if (x >= 0 && x <1){
            return 0
        }
        if (x >= 5 && x <6){
            return 5
        }
        if (x >= 6 && x <7){
            return 6
        }
        if (x >= 7 && x <8){
            return 7
        }
        if (x >= 8 && x <9){
            return 8
        }
    }

        function click(){
            if (flag == true){
                flag = false;
                reset();
                return;

            }
            else {
                flag = true;
            }
            console.log("yo");

            donePaths
               .transition()
               // .ease("elastic-out")
               .ease("cubic-out")
               .delay(function(d,i){return (Math.random() * 400) * 20})
               // .duration(500).attr("transform",function(d){return "translate(0,-1000)" + " scale(" + (Math.random()* (5 - .1) + .1) + ")"});
               // node.transition()
               .duration(5500)
               .attr("transform",function(d){
                   // return "translate(" + (Math.floor(Math.random() * 501) - 500) + ",-2700)" +
                    return "translate(" + (0) + ", 0)" +
                   " scale(" + (Math.random()* (20 - .001) + .001) + ")"
                   // "rotate(-180, " + d[0] + ", " + d[1] + ")";
               });


        }

        setTimeout(function() {
            click();
        }, 1000);


    }

    function reset() {
        console.log("reset")
        d3.selectAll("path").remove();
        var svg = d3.select("svg");
        draw(svgNode)


    }



    });




    function getMyCentroid(bbox) {
        // console.log(bbox);
        return [bbox.x + bbox.width/2, bbox.y + bbox.height/2];
    }
 //1 second



 function objectify(d) {
   var object = new THREE.CSS3DObject(this);
   object.position = d.random.position;
   scene.add(object);
 }




    </script>

    <!-- Custom Theme JavaScript -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-77910929-1', 'auto');
      ga('send', 'pageview');

    </script>

</body>

</html>
